<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Minimal Shoreline Interactive</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: #000;
      overflow: hidden;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }
    canvas {
      display: block;
      width: 100vw;
      height: 100vh;
      cursor: none; /* feels nicer with the water interaction */
    }
    .hint {
      position: fixed;
      left: 16px;
      bottom: 14px;
      font-size: 12px;
      color: rgba(255,255,255,0.75);
      user-select: none;
      pointer-events: none;
      letter-spacing: 0.2px;
    }
  </style>
</head>
<body>
  <canvas id="c"></canvas>
  <div class="hint">Move mouse: water pulls back â€¢ Click the sand text buttons</div>

  <script>
    const canvas = document.getElementById("c");
    const ctx = canvas.getContext("2d");

    // Colors (minimal)
    const SAND = "#F2D27A";
    const SAND_DARK = "#C7A85D";
    const WATER = "#1E73D8";

    // Mouse state
    const mouse = { x: 0, y: 0, has: false };

    function resize() {
      const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      canvas.width = Math.floor(innerWidth * dpr);
      canvas.height = Math.floor(innerHeight * dpr);
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0); // draw in CSS pixels
    }
    window.addEventListener("resize", resize);
    resize();

    window.addEventListener("mousemove", (e) => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
      mouse.has = true;
    });
    window.addEventListener("mouseleave", () => { mouse.has = false; });

    // "Buttons" in sand (clickable regions + drawn text)
    const buttons = [
      { label: "Button 1", w: 140, h: 42 },
      { label: "Button 2", w: 140, h: 42 },
      { label: "Button 3", w: 140, h: 42 },
    ];

    function layoutButtons(w, h, shorelineY) {
      const gap = 26;
      const totalW = buttons.reduce((s, b) => s + b.w, 0) + gap * (buttons.length - 1);
      let x = (w - totalW) / 2;
      const y = shorelineY + 48; // sit slightly into the sand, near the water edge
      for (const b of buttons) {
        b.x = x;
        b.y = y;
        x += b.w + gap;
      }
    }

    window.addEventListener("click", (e) => {
      // Hit test in CSS pixels
      const x = e.clientX;
      const y = e.clientY;
      for (const b of buttons) {
        if (x >= b.x && x <= b.x + b.w && y >= b.y && y <= b.y + b.h) {
          alert(`${b.label} clicked`);
          break;
        }
      }
    });

    // Waterline function
    function waterlineY(x, t, w, h, shorelineY) {
      // gentle wave
      const waveAmp = Math.max(6, Math.min(14, w * 0.01));
      const wave =
        Math.sin((x / w) * Math.PI * 2.2 + t * 0.0012) * waveAmp +
        Math.sin((x / w) * Math.PI * 5.1 - t * 0.0009) * (waveAmp * 0.35);

      // pull-back around the mouse (a gaussian "dent" in the water edge)
      let dent = 0;
      if (mouse.has) {
        const dx = x - mouse.x;
        const dy = shorelineY - mouse.y; // stronger if mouse is near shoreline
        const dist2 = dx * dx + dy * dy;

        const sigma = Math.max(140, Math.min(260, w * 0.22));
        const strength = Math.max(70, Math.min(150, w * 0.10));

        // Negative moves waterline upward (reveals sand)
        dent = -strength * Math.exp(-dist2 / (2 * sigma * sigma));
      }

      return shorelineY + wave + dent;
    }

    function drawRoundedRect(x, y, w, h, r) {
      const rr = Math.min(r, w / 2, h / 2);
      ctx.beginPath();
      ctx.moveTo(x + rr, y);
      ctx.arcTo(x + w, y, x + w, y + h, rr);
      ctx.arcTo(x + w, y + h, x, y + h, rr);
      ctx.arcTo(x, y + h, x, y, rr);
      ctx.arcTo(x, y, x + w, y, rr);
      ctx.closePath();
    }

    function frame(t) {
      const w = innerWidth;
      const h = innerHeight;

      // Shoreline sits about mid-screen
      const shorelineY = h * 0.52;
      layoutButtons(w, h, shorelineY);

      // Background sand
      ctx.clearRect(0, 0, w, h);
      ctx.fillStyle = SAND;
      ctx.fillRect(0, 0, w, h);

      // Subtle sand gradient at bottom (still minimal)
      const g = ctx.createLinearGradient(0, shorelineY, 0, h);
      g.addColorStop(0, "rgba(0,0,0,0.00)");
      g.addColorStop(1, "rgba(0,0,0,0.08)");
      ctx.fillStyle = g;
      ctx.fillRect(0, shorelineY, w, h - shorelineY);

      // Draw sand "buttons" (text carved into sand)
      ctx.save();
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      ctx.font = "600 18px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial";
      for (const b of buttons) {
        // faint pressed-in shape (optional but still simple)
        ctx.globalAlpha = 0.22;
        ctx.fillStyle = "#000";
        drawRoundedRect(b.x, b.y, b.w, b.h, 14);
        ctx.fill();

        ctx.globalAlpha = 1;
        ctx.fillStyle = SAND_DARK;
        // tiny shadow to feel etched
        ctx.fillText(b.label, b.x + b.w / 2, b.y + b.h / 2 + 1);
        ctx.globalAlpha = 0.65;
        ctx.fillStyle = "#8f7a45";
        ctx.fillText(b.label, b.x + b.w / 2, b.y + b.h / 2);
        ctx.globalAlpha = 1;
      }
      ctx.restore();

      // Draw water polygon (top down to waterline)
      ctx.save();
      ctx.fillStyle = WATER;
      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.lineTo(w, 0);

      // sample waterline
      const step = Math.max(6, Math.floor(w / 140));
      for (let x = w; x >= 0; x -= step) {
        ctx.lineTo(x, waterlineY(x, t, w, h, shorelineY));
      }

      ctx.closePath();
      ctx.fill();

      // Slight highlight along the water edge (still minimal)
      ctx.globalAlpha = 0.18;
      ctx.strokeStyle = "#ffffff";
      ctx.lineW
